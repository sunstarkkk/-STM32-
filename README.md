# 基于 STM32 的多功能家居系统

---

## 一、项目概述

本项目基于 **STM32F103ZET6** 开发板，构建一个集环境感知、自动控制、人机交互与安全报警于一体的多功能智能家居系统。  
系统通过多种传感器实时采集环境信息，并结合执行器与显示模块，实现窗帘自动控制、环境监测、火焰报警及红外遥控交互等功能。

---

## 二、功能介绍

### 1. 自动窗帘控制

- 通过光敏传感器检测环境光照强度  
- 当光照强度 **低于 10** 时，判定为夜晚  
- 系统自动控制 **28BYJ-48 步进电机** 反转，模拟窗帘关闭  
- 步进电机正转表示窗帘打开，反转表示窗帘关闭  

### 2. 红外遥控控制

- 使用红外遥控器对系统进行人工干预  
- 支持通过遥控器实现窗帘的 **手动开 / 关** 操作  

### 3. 环境参数检测

- **DHT11 温湿度传感器**：实时采集环境温度和湿度  
- **光敏传感器**：实时检测环境光照强度  

### 4. TFT LCD 显示功能

- TFT LCD 实时显示：  
  - 光照强度  
  - 环境温度  
  - 环境湿度  
- 支持通过红外遥控器切换显示屏背景图片（相当于更换壁纸）  

### 5. 火焰报警功能

- 通过火焰传感器检测环境中是否存在火焰  
- 检测到火焰后，系统执行以下操作：  
  - 蜂鸣器报警  
  - RGB 三色 LED 灯循环闪烁并变换颜色  
  - TFT LCD 显示火焰报警图标  
- 支持通过红外遥控器关闭：  
  - 蜂鸣器  
  - RGB 灯  
  - 显示屏火焰报警标志  

---

## 三、所用模块与传感器

- **主控芯片**：STM32F103ZET6 开发板  

### 硬件模块清单

1. 28BYJ-48 步进电机  
2. ULN2003AN 步进电机驱动模块  
3. DHT11 温湿度传感器  
4. 火焰传感器  
5. 红外遥控模块  
6. 蜂鸣器  
7. RGB 三色 LED 灯  
8. TFT LCD 显示屏  

---

## 四、接线说明

### 1. 步进电机驱动模块（ULN2003AN）

| ULN2003AN 引脚 | STM32 引脚 |
|--------------|------------|
| IN1          | PF1        |
| IN2          | PF2        |
| IN3          | PF3        |
| IN4          | PF4        |
| -（负极）    | GND        |
| +（正极）    | 5V         |

### 2. 步进电机（28BYJ-48）

- 通过排线连接至 ULN2003AN 模块的 **A、B、C、D 接口**  
- 接口带有防呆设计，可直接插接  

### 3. 温湿度传感器（DHT11）

| DHT11 引脚 | STM32 引脚 |
|-----------|------------|
| S         | PG11       |
| -（负极） | GND        |
| +（正极） | 3.3V       |

### 4. 火焰传感器

| 火焰传感器引脚 | STM32 引脚 |
|---------------|------------|
| D0            | PA15       |
| G（负极）     | GND        |
| +（正极）     | 3.3V       |

### 5. RGB 三色 LED 灯

| RGB 引脚 | STM32 引脚 |
|---------|------------|
| R       | PA0        |
| G       | PA1        |
| B       | PA2        |
| -（负极）| GND        |

---

## 五、系统特点总结

- 功能集成度高，涵盖环境监测、自动控制与安全报警  
- 支持自动模式与手动遥控模式相结合  
- 适合作为 STM32 综合实训或课程设计项目  
- 系统结构清晰，便于后期功能扩展与模块升级

## 六、补充说明

- 由于项目中有图片显示的代码，体积非常大，所以将.hex下载到开发板时需要非常久的时间（大概两三分钟），这是正常情况；
- 这是本人用于嵌入式课程的课设作业，系统简陋，只为了通过课程考核，想要更专业的系统设计请移步他处。
